
<div class="flex-col gap-1">
  <div class="flex-between-center lg-flex-center-center">
    <p class="ft-body txt-on-primary text-center f-weight-500">Filtros y búsqueda</p>
    <button
      mat-icon-button
      aria-label="Cerrar filtros"
      *ngIf="(desktop$|async)===false"
      (click)="closeFilters()">
      <i-tabler name="x" class="txt-on-primary"></i-tabler>
    </button>
  </div>
  <input type="search"
    class="w-100 rounded-search"
    [formControl]="searchCtrl"
    (keyup.enter)="applyFilters()"
    placeholder="Buscar">

  <div class="gap-05 filter-selects">
    <app-rounded-select
      label="Nivel académico"
      [control]="academicLevelCtrl"
      [options]="options?.academicLevel ?? []"
      [resetOption]="true"
      [search]="true"
      searchPlaceholder="Buscar nivel académico"
      [loading]="!options?.academicLevel?.length"
      [cssClass]="['bg-academic-level txt-on-academic-level']">
    </app-rounded-select>
    
    <app-rounded-select
      label="Asignatura"
      [control]="subjectCtrl"
      [options]="options?.subject ?? []"
      [resetOption]="true"
      [search]="true"
      searchPlaceholder="Buscar asignatura"
      [loading]="!options?.subject?.length"
      [cssClass]="['bg-subject txt-on-subject']">
    </app-rounded-select>
    
    <app-rounded-select
      label="Axis"
      [control]="axisCtrl"
      [options]="options?.axis ?? []"
      [resetOption]="true"
      [search]="true"
      searchPlaceholder="Buscar eje"
      [loading]="!options?.axis?.length"
      [cssClass]="['bg-axis txt-on-axis']">
    </app-rounded-select>

    <app-rounded-select
      label="Orederar por"
      [control]="orderingCtrl"
      [options]="options?.ordering ?? []"
      [resetOption]="true"
      [search]="true"
      [loading]="!options?.ordering?.length"
      [cssClass]="['bg-background txt-on-background']">
    </app-rounded-select>
  </div>

  <div class="flex-col gap-05">
    <button class="w-100 rounded-button bg-on-primary txt-primary ft-body" (click)="applyFilters()">
      <span>Aplicar filtros</span>
      <i-tabler name="filter-check" class="small-icon"></i-tabler>
    </button>
    <button class="w-100 rounded-button bg-red txt-on-red ft-body" (click)="removeFilters()">
      <span>Remover filtros</span>
      <i-tabler name="trash" class="small-icon"></i-tabler>
    </button>
  </div>
</div>

<button
  class="rounded-button bg-primary txt-on-primary fixed-b-r"
  (click)="openFilters()"
  *ngIf="!open && (desktop$|async)===false"
  @inOutY>
    <span>Filtrar</span>
    <i-tabler name="filter"></i-tabler>
</button>